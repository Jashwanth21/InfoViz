<html>
   <head>
      <title> Jashwanth Jegadeesan Vijayalakshmi - Assignment</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2.1"></script>
      <style>
         body {
         font-family: sans-serif;
         }
      </style>
   </head>
   <body>
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Name:&nbsp;</strong></td>
               <td style="vertical-align: top;">Jashwanth Jegadeesan Vijayalakshmi</td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Student Number:</strong></td>
               <td style="vertical-align: top;">19200055</td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Dataset description:</strong></td>
               <td style="vertical-align: top;"> The given dataset is obtained from <a href="https://data.gov.ie/dataset/2016-make-model-year-failures-at-nct">Data.gov.ie</a> and contains the VehicleMakers, their models produced and the years in which they were produced. Also, it contains the pass and fail percentages and the reasons for it (With its percentage contributions)
               </td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Initial questions</strong></td>
               <td style="vertical-align: top;">Initial questions that popped up were : 1).Which company produced the most number of failed vehicles and which produced the most number of passed vehicles? 2).What is the relationship between reason for failure, vehicle makers and the year of birth? 3).What is the relationship between the mean of failures and passes with the year of birth? </td>
            </tr>
         </tbody>
      </table>
      <hr />
      <div id="vis"></div>
      <hr />
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Description:&nbsp;</strong></td>
               <td style="vertical-align: top;">The two line-graphs display the relationship between the average of the total number of pass and fail vehicles and the YearOfBirth. The type of the YearOfBirth in x-axis is "Temporal". Hence points are added to the line to exclusively highlight the years present in the dataset</td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Insight:</strong></td>
               <td style="vertical-align: top;">From the above graphs we can infer that there has not been much production of cars till the year of 1995. Post 1995, there has been a tremendous increase in the production of cars. This understanding is made through the lines' trend.<br>The average of production of the Pass vehicles during the year 2012 is high when we see the PASS graph. The average of production of the FAIL vehicles is high in the year of 2005 when we analyse the FAIL graph. Since then, there has been a decline in the number of FAIL vehicles produced based on the trend of the graph.</td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Design considerations</strong></td>
               <td style="vertical-align: top;">The main idea was to analyse and explain the trend of vehicle production, PASS vehicles produced and the FAIL vehicles produced. Hence Line-graph is considered to be a very apt graph to analyse and display the trend. <br>To make things much more visually interesting, dots are added to the curve to reach out to the corresponding year on which it is plotted so that it makes easy to decode the graph for the viewer. The graphs are vertically concatenated so that they are distinctly displayed one below the other. 	</td>
            </tr>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Data filtering and transformation:&nbsp;</strong></td>
               <td style="vertical-align: top;">VehicleMakers whose total is greater than 0 is only displayed and the remaining are filtered to avoid confusion. This will reduce the redundant and unwanted data in the chart and gives us a clear picture of the stats and will not affect the average.<br>In the aggregate attribute, the mean of the both PASS and FAIL are taken as the count of both is huge. Hence the data is transformed to its average value and then the visualisation is made.</td>
            </tr>
         </tbody>
      </table>
      <script type="text/javascript">
        var yourVlSpec =  
  {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "data": {
    "url": "https://raw.githubusercontent.com/Jashwanth21/InfoViz/master/Make%20Model%20Data%202016.csv",
    "format": {
      "type": "csv"
    }
  },
  "transform": [
    {
      "filter": "datum.Total >0 "
    }
  ],
  "vconcat": [
    {
      "title": {
        "text": "Mean of Passed vehicles Vs YearOfBirth ",
        "anchor": "middle"
      },
      "mark": {
        "type": "line",
        "point": {
          "filled": false,
          "fill": "white",
          "tooltip": true
        },
        "color": "crimson"
      },
      "encoding": {
        "y": {
          "field": "PASS",
          "type": "quantitative",
          "aggregate": "mean",
          "axis": {
            "title": "Average of the PASS vehicles",
            "grid": true,
            "titleFontSize": 20
          }
        },
        "x": {
          "field": "YearOfBirth",
          "type": "temporal",
          "axis": {
            "title": "Year ",
            "grid": true,
            "titleFontSize": 20
          }
        }
      },
      "width": 800,
      "height": 500
    },
    {
      "title": {
        "text": "Mean of Failed Vehicles vs YearOfBirth ",
        "anchor": "middle"
      },
      "mark": {
        "type": "line",
        "point": {
          "filled": false,
          "fill": "white",
          "tooltip": true
        },
        "color": "yellow"
      },
      "encoding": {
        "y": {
          "field": "FAIL",
          "type": "quantitative",
          "aggregate": "mean",
          "axis": {
            "title": "Average of the FAIL vehicles",
            "grid": true,
            "titleFontSize": 20
          }
        },
        "x": {
          "field": "YearOfBirth",
          "type": "temporal",
          "axis": {
            "title": "Year ",
            "grid": true,
            "titleFontSize": 20
          }
        }
      },
      "width": 800,
      "height": 500
    }
  ],
  "config": {}
}

            vegaEmbed("#vis", yourVlSpec);
      </script>
   </body>
</html>